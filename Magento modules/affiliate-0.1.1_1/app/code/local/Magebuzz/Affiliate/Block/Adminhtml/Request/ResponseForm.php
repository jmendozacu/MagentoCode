<?php/** Copyright (c) 2013 www.magebuzz.com */class Magebuzz_Affiliate_Block_Adminhtml_Request_ResponseForm extends Mage_Adminhtml_Block_Widget_Form {	protected function _prepareForm() {		$form = new Varien_Data_Form(array(				'id' => 'edit_form',				'action' => $this->getUrl('*/*/submit', array('id' => $this->getRequest()->getParam('id'))),				'method' => 'post',				'enctype' => 'multipart/form-data'			)		);		$this->setForm($form);		$fieldset = $form->addFieldset('affiliate_form', array('legend'=>Mage::helper('affiliate')->__('Response')));		if ( Mage::getSingleton('adminhtml/session')->getAffiliateData() ) {			$data = Mage::getSingleton('adminhtml/session')->getAffiliateData();						Mage::getSingleton('adminhtml/session')->setAffiliateData(null);		} elseif ( Mage::registry('affiliate_payment_request') ) {			$data = Mage::registry('affiliate_payment_request')->getData();		}		$fieldset->addField('id', 'hidden', array(				'name'		=> 'id',				'value'		=> $data['request_id']		));			$affiliate_id = $data['affiliate_id'];		$affiliate = Mage::getModel('affiliate/affiliate')->load($affiliate_id)->getData();					$fieldset->addField('email', 'label', array(				'label'     => Mage::helper('affiliate')->__('User Email'),				'name'      => 'email',				'value'		=> $affiliate['email']		));			$fieldset->addField('current_balance', 'label', array(				'label'     => Mage::helper('affiliate')->__('Current Balance'),				'name'      => 'current_balance',				'value'		=> $affiliate['current_balance']		));			$fieldset->addField('total_withdrawn', 'label', array(				'label'     => Mage::helper('affiliate')->__('Total Withdrawn'),				'name'      => 'total_withdrawn',				'value'		=> $affiliate['total_withdrawn']		));			$fieldset->addField('request_amount', 'label', array(				'label'     => Mage::helper('affiliate')->__('Request Amount'),				'name'      => 'request_amount',				'value'		=> $data['request_amount']		));		$fieldset->addField('create_time', 'label', array(				'label'     => Mage::helper('affiliate')->__('Request Time'),				'name'      => 'create_time',				'value'		=> $data['request_time']		));		$fieldset->addField('request_message', 'label', array(				'label'     => Mage::helper('affiliate')->__('Request Message'),				'name'      => 'request_message',				'value'		=> $data['request_note']		));		$fieldset->addField('response_message', 'textarea', array(				'label'     => Mage::helper('affiliate')->__('Response Message'),				'name'      => 'response_message',				'value'		=> $data['response_note']		));		$form->setUseContainer(true);	}}